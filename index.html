<!--
 Action Steps
  done - 1) Create button that updates feed list
  done - 2) Auto refresh every second instead of button
  done- 3) Show timestamps in a readable format
  4) Make usernames clickable to show individual feeds
  5) Make it pretty

  Advanced
  1) Make timestamps user-friendly(use some library)
  2) Allow user to tweet
-->
<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <div id ="feed"></div>
    <script>
      var updateFeed = function(){
        var $feed = $('#feed');
        $feed.html('');

        var index = streams.home.length - 1;        
        while(index >= 0){
          var tweet = streams.home[index];
          var time = tweet.created_at.getHours() + ":" + tweet.created_at.getMinutes() + ":" + tweet.created_at.getSeconds();
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + " at" + time);
          $tweet.appendTo($feed);
          index -= 1;
        }
      }

      $(document).ready(function(){
        updateFeed();
        setInterval(updateFeed, 1000);
      });

    </script>
  </body>
</html>
